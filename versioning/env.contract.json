{
  "schema_version": 1,
  "description": "Contrato minimo de variables/secrets para versionado y deploys.",
  "ops_edge": {
    "required": [
      "GITHUB_DEPLOY_OWNER",
      "GITHUB_DEPLOY_REPO",
      "GITHUB_DEPLOY_TOKEN",
      "DEPLOY_BRANCH_DEV",
      "DEPLOY_BRANCH_STAGING",
      "DEPLOY_BRANCH_PROD",
      "VERSIONING_DEV_RELEASE_WORKFLOW",
      "VERSIONING_DEV_RELEASE_REF",
      "VERSIONING_DEV_RELEASE_ALLOWED_REFS",
      "VERSIONING_DEPLOY_WORKFLOW",
      "VERSIONING_DEPLOY_WORKFLOW_REF",
      "VERSIONING_DEPLOY_CALLBACK_TOKEN",
      "VERSIONING_PROXY_SHARED_TOKEN",
      "VERSIONING_APPLY_MIGRATIONS_WORKFLOW",
      "VERSIONING_APPLY_MIGRATIONS_WORKFLOW_REF",
      "VERSIONING_LOCAL_SYNC_WORKFLOW",
      "VERSIONING_LOCAL_SYNC_WORKFLOW_REF",
      "VERSIONING_LOCAL_SYNC_TOKEN"
    ],
    "optional": [
      "VERSIONING_ARTIFACTS_BUCKET",
      "OBS_RELEASE_SYNC_TOKEN",
      "OBS_RELEASE_SYNC_URL_DEV",
      "OBS_RELEASE_SYNC_URL_STAGING",
      "OBS_RELEASE_SYNC_URL_PROD",
      "VERSIONING_RUNTIME_URL_STAGING",
      "VERSIONING_RUNTIME_URL_PROD",
      "VERSIONING_RUNTIME_PROJECT_REF_STAGING",
      "VERSIONING_RUNTIME_PROJECT_REF_PROD",
      "OBS_RELEASE_SYNC_TENANT_HINT",
      "VERSIONING_DEPLOY_CALLBACK_URL",
      "VERSIONING_LOCAL_ARTIFACTS_DIR"
    ]
  },
  "runtime_edge": {
    "required": [
      "VERSIONING_OPS_URL",
      "VERSIONING_OPS_SECRET_KEY",
      "VERSIONING_PROXY_SHARED_TOKEN"
    ],
    "optional": [
      "OBS_RELEASE_SYNC_TOKEN"
    ]
  },
  "github_secrets": {
    "global": [
      "SUPABASE_URL",
      "SUPABASE_SECRET_KEY",
      "NETLIFY_AUTH_TOKEN",
      "VERSIONING_DEPLOY_CALLBACK_TOKEN",
      "VITE_SUPABASE_URL_STAGING",
      "VITE_SUPABASE_ANON_KEY_STAGING",
      "VITE_SUPABASE_URL_PROD",
      "VITE_SUPABASE_ANON_KEY_PROD",
      "OBS_SUPABASE_URL_STAGING",
      "OBS_SUPABASE_SECRET_KEY_STAGING",
      "OBS_SUPABASE_URL_PROD",
      "OBS_SUPABASE_SECRET_KEY_PROD",
      "SUPABASE_ACCESS_TOKEN",
      "VERSIONING_LOCAL_SYNC_TOKEN"
    ],
    "by_product_env": {
      "referidos_app/staging": [
        "NETLIFY_SITE_ID_REFERIDOS_APP_STAGING"
      ],
      "referidos_app/prod": [
        "NETLIFY_SITE_ID_REFERIDOS_APP_PROD"
      ],
      "prelaunch_web/staging": [
        "NETLIFY_SITE_ID_PRELAUNCH_WEB_STAGING"
      ],
      "prelaunch_web/prod": [
        "NETLIFY_SITE_ID_PRELAUNCH_WEB_PROD"
      ]
    }
  },
  "validation": {
    "netlify_site_id_regex": "^[a-zA-Z0-9]{24,}$",
    "supabase_url_regex": "^https://[a-z0-9-]+\\.supabase\\.co$"
  }
}
